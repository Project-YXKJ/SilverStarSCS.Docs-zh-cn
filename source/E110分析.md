# E110分析

## 报错机制

机器运行时对上针位信号进行检测, 如果一定时间(计为==T==)内上针位信号无变化, 则进行报错.

## 原因分类

### 针位信号侧本身故障

上针位信号在码盘线束内, 如果本身信号有问题则可能出现报错.

- 接触不良
  - 重新插紧码盘线束; 码盘线束端子卡扣扣紧; 码盘线束端子内卡位片安装; 
  - 清洁码盘, 缝制环境可能会有纤维进入电机端盖内.
- 信号干扰
  - 排除使用环境中的高频因素, 比如是否有热粘合, 压胶设备等.
- 电机或者系统本身故障
  - 电机本身码盘信号硬件故障, 可以通过更换电机定位原因.
  - 控制器本身接受上针位信号的端口有硬件故障, 可以通过更换控制器定位原因

### 系统软件

- 某些软件BUG导致的系统误判

  此种故障一般表现为如果一定场景条件满足, 那么报错现象就可以复现, 注意收集一线人员的描述, 提取场景条件等有效信息, 软件优化依赖这些信息.

- 报错机制的严格程度

  ==T==越大, 报错越不严格, 如果发生堵转, 电机积热极速加快, 电机温度越高, 电机内永磁体的磁场强度会随着温度升高而线性减弱, 进而导致电机性能降低, 进而加剧报错产生, 另外注意超过临界的温度可能会永久损坏电机.

  ==T==越小, 报错越灵敏, 如果一个过坎刚好处于一个努努力就可以过去的边界, 那么适当加大==T==可能会减少报错. 但是请牢记==T==增大并不解决真实的刺厚力的问题.

  

### 机械故障

有很多意想不到的机械故障会影响到系统报出堵转错误, 这一块比较依赖现场人员的处理能力, 反复的排除实验, 以下只是经验举例.

- 剪线不流畅, 机构不合理, 缝线粗细, 以及松线时机不对带来的放线量不足;

- 过厚的缝料, 但是不合适的交互量导致大压脚和交互量压脚碰撞;

- 缝速达到一定数值机械结构会发散, 可能会出现不容易观测到的结果, 比如分线钩处的碰撞;

- 不合适的机针;

- 未经过磨合期的新设备.

  

### 机电一体综合原因

首先说明的的是穿刺力是控制器(此处控制器的概念为包含电机以及驱动器的一整套系统)和机头的综合性能的呈现, 不能简单的分割开来看, 同样的控制器适配不一样的机头其穿刺力并不能保持一致.

如果穿刺力不够, 或者是缝制某些工序偶尔报错, 可以增大穿刺力的方法如下:

- 更优化的机械机构, 更高的传动效率, 依赖主机厂家的支持.

- 采用扭矩更大的电机, ==优先尝试==.

- 提高控制器最大驱动电流的能力, ==谨慎尝试==.

  

## 定位原因

 ### 依据报错发生条件

  如果报错总是发生在特定工况下, 那么这个特定工况可以方便定位问题.

 ### 依据报错频率

  如果频繁发生, 一踩就报错, 根本无法使用, 在保证接线良好的基础上, 更换控制箱试一下, 这类问题一般很好定位.

  如果偶然发生, 重启控制器之后消失, 可以留意报错是不是特定工况下产生, 如果感觉随机性很大, 并没有什么规律, 报错时电机明显能感觉卡顿刺厚的感觉, 可能为真实堵转报错. 

 ### 依据报错在机头上的普遍性

  - 特例机头, 可调换控制器定位问题随控制器还是机头走, 方便排查.
  - 多例机头, 可能为软件本身BUG或者应对当前的缝制场景本产品穿刺力存在不足.

