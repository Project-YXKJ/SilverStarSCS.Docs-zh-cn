压脚交互量
==========

根据设备的不同，机器可用于缝制两种不同的交互量行程高度，并且可以通过按一下按钮快速激活。

交互量轮盘限速
--------------

如果交互量调节轮盘内安装了额外的组件，在调节交互量高度时，系统会自动进行限速，依据组件类
型限速有两种策略：

开关式
    挡位式限速，如果安装有 2 个开关，则就是 4 个挡位。

电位器
    速度可以连续调节，且在达到一定压脚高度之前没有速度限制。随着交互量高度的持续增加，
    最大缝纫速度将呈线性下降。

    .. important::

        应确保压脚交互量越大，电位器的采样值越小。

    调过参数 `S10` 来设置小交互量时的缝纫速度；

    调过参数 `S14` 来设置大交互量时的缝纫速度；

    使用参数 `O21` 设置高速转折点的电位器采样值，即保持全速运行的最大交互量位置的采样值；

    使用参数 `O22` 设置最低缝速点的电位器采样值，即需要被限制在最低速度的最小交互量位置的采样值。

    .. figure:: ../_static/common/speed_limit_potentiometer.excalidraw.svg
        :scale: 100 %
        :alt: speed_limit_potentiometer

        采样值参数与速度参数之间的对应关系

快速切换交互量时限速
--------------------

如果参数 :option:`A35` 设置为 1，当快速切换至大交互量时，缝纫速度将被限制在最大交互量的
限速值， 由 :option:`S15` 决定。

切换交互量后依据针数自动复位
----------------------------

如果 :option:`A32` 不为 0，当快速切换至大交互量后，缝制设置的针数之后，交互量将自动恢复
至正常状态。

快速参考
--------

下表总结了压脚交互量功能所使用到的参数：

======================================== ====== =============
参数                                     权限   参见
======================================== ====== =============
交互量切换                               操作员 :option:`A45`
限速轮盘类型开关式：压脚交互量第一档限速 技术员 :option:`S09`
限速轮盘类型电位器式：小交互量时的限速   技术员 :option:`S10`
限速轮盘类型开关式：压脚交互量第二档限速 技术员 :option:`S11`
限速轮盘类型开关式：压脚交互量第三档限速 技术员 :option:`S12`
限速轮盘类型开关式：压脚交互量第四档限速 技术员 :option:`S13`
限速轮盘类型电位器式：小交互量时的限速   技术员 :option:`S14`
交互量最大时限速                         技术员 :option:`S15`
交互量状态                               开发者 :option:`A24`
交互量自动恢复的针数                     技术员 :option:`A32`
自动限速                                 操作员 :option:`A35`
高速转折点的电位器采样值                 技术员 :option:`O21`
最低缝速点的电位器采样值                 技术员 :option:`O22`
全力时间                                 开发者 :option:`076`
维持出力阶段的占空比                     开发者 :option:`077`
交互量轮盘传感器类型                     开发者 :option:`085`
======================================== ====== =============

参数列表
--------

.. option:: A45

    -Max  1
    -Min  0
    -Unit  --
    -Description
      | 交互量功能开关：
      | 0 = 关闭；
      | 1 = 打开

.. option:: S09

    -Max  4500
    -Min  50
    -Unit  spm
    -Description  限速轮盘类型开关式：压脚交互量第一档限速。

.. option:: S10

    -Max  4500
    -Min  50
    -Unit  spm
    -Description  限速轮盘类型电位器式：小交互量时的限速。

.. option:: S11

    -Max  4500
    -Min  50
    -Unit  spm
    -Description  限速轮盘类型开关式：压脚交互量第二档限速。

.. option:: S12

    -Max  4500
    -Min  50
    -Unit  spm
    -Description  限速轮盘类型开关式：压脚交互量第三档限速。

.. option:: S13

    -Max  4500
    -Min  50
    -Unit  spm
    -Description  限速轮盘类型开关式：压脚交互量第四档限速。

.. option:: S14

    -Max  4500
    -Min  50
    -Unit  spm
    -Description  限速轮盘类型电位器式：大交互量时的限速。

.. option:: S15

    -Max  4500
    -Min  50
    -Unit  spm
    -Description  交互量最大时限速。

.. option:: A24

    -Max  1
    -Min  0
    -Unit  --
    -Description  压脚交互量状态，只读

.. option:: A32

    -Max  99
    -Min  0
    -Unit  针
    -Description
      | 0 = 手动切换;
      | 不为0 = 切换为大交互量后运行设定的针数，交互量自动恢复

.. option:: A35

    -Max  1
    -Min  0
    -Unit  --
    -Description
      | 切换到大交互量时，速度将被自动限制至参数S15所设置的值：
      | 0 = 关闭；
      | 1 = 打开

.. option:: O21

    -Max  4095
    -Min  0
    -Unit  --
    -Description  限速生效分界点位置的传感器值，依据此值，交互量继续增大时将进行限速

.. option:: O22

    -Max  4095
    -Min  0
    -Unit  --
    -Description  最大交互量位置的传感器值

.. option:: 076

    -Max  999
    -Min  1
    -Unit  ms
    -Description  交互量：全力时间，:term:`时间 t1`

.. option:: 077

    -Max  100
    -Min  1
    -Unit  %
    -Description  交互量：维持出力阶段 :term:`时间 t2` 的占空比

.. option:: 085

    -Max  2
    -Min  0
    -Unit  --
    -Description
      | 0 = 无传感器；
      | 1 = 触点开关；
      | 2 = 电位器
