.. _input_configuration:

========
输入配置
========

输入端口允许您连接各类设备从而将数据发送到控制器。这些设备包括按钮、光电器件、电位器、接近传感器等。
输入端口主要有两类：模拟和数字。

每个输入端口都很灵活的，大多数情况下，您可以根据自己的实际接线自由配置每个端口的模式。

.. attention::
   确保两个输入端口未配置为相同的模式。
   
   根据机器型号的不同，某些模式可能不可用。

.. _input_mode_code_list:

热键盒
======

:term:`热键盒` 是一种比较特殊得输入设备，尽管热键盒上的每个按键都可以配置为执行特定的操作，
但是它们和传统的输入端口不同，它既不是模拟也不是数字，通常它只能配置为那些『按钮』功能，
传感器功能并不能接入热键盒输入中使用。


输入端口模式代码表
==================

输入端口可配置的模式代码表如下：

* 0 = 无功能；
* 1 = 手动倒缝；
* 2 = 正向补针；
* 3 = 反向补针；
* 4 = 停车时正向补针，运转时手动倒缝；
* 5 = 停车时反向补针，运转时手动倒缝；
* 6 = 切换大小交互量；
* 7 = 快捷取消/打开前后加固；
* 8 = 切换针距；
* 9 = 切换面线张力；
* 10 = 进入/退出暂停模式 [#]_；
* 11 = 进入/退出穿线模式 [#]_；
* 12 = 切换缝线中心导向压脚抬起/落下；
* 13 = 机头倾倒状态传感器；
* 14 = 面线状态传感器；
* 15 = 护眼板监测传感器；
* 16 = 旋梭盖板监测传感器；
* 17 = 切换压脚抬起/落下 [#]_；
* 18 = 按键控制压脚；
* 19 = 润滑油位检测传感器（数字式）； 
* 20 = 切换送料滚轮抬起/落下；
* 21 = 重置底线计数器；
* 22 = 模拟电子手轮转动(向前)；
* 23 = 模拟电子手轮转动(向后)；
* 24 = 切换缝制方向 [#]_；
* 25 = 切换电子夹线功能的打开和关闭;
* 26 = 屏蔽机头热键；
* 27 = 锁芯底线余量检测传感器（数字式）;
* 100 = 交互量限速挡位传感器；
* 101 = 压脚高度传感器；
* 102 = 电子手轮 CHA；
* 103 = 电子手轮 CHB；
* 104 = 润滑油位检测传感器（模拟式）；

.. [#] 暂停模式下，前踩调速器机器不运转。

.. [#] 穿线模式下，前踩调速器机器不运转，并且面线张力打开，以方便穿线。

.. [#] 代码 17 功能为按键按下抬起压脚，此时松开按键，压脚仍然抬起，再次按下按键则放下压脚；
       
       代码 18 功能为按键按下抬起压脚，此时按键松开则压脚放下。

.. [#] 代码 1 功能为按下按键由正缝切换为倒缝，此时松开按键则恢复为正缝；
       
       代码 24 功能为按下按键由正缝切换为倒缝，此时松开按键，仍然倒缝，再次按下按键则由倒缝切换为正缝。

.. important::
   超过 100 的功能需要配置在特殊的输入端口上，比如模拟输入。

如何设置输入端口的模式？
========================

按照以下步骤：

1. 确认你需要修改那一路端口，比如时 *输入 01* 还是 *输入 02* ，这部分需要参考具体产品的接线图。
   之后参考本章节 :ref:`input_params_quick_reference` 部分，查找控制此端口功能的参数序号；
2. 参考本章节开头 :ref:`input_mode_code_list` 部分，得到你需要的功能代码；
3. 将步骤 1 得到的参数修改为步骤2得到的功能代码；
4. 重启控制器以应用设定。

举例说明：

1. 想把热键盒第六个按键的功能修改为拖布滚轮；
2. 查询 :ref:`input_params_quick_reference` 章节，可知 :option:`A41` 定义热键盒第六个按键的功能:
   
      A41 = 热键盒按键6功能

3. 查询 :ref:`input_mode_code_list` 章节， *20* 是拖布滚轮的功能代码，那么将 :option:`A41` 修改
   为 *20* 即可:
      
      20 = 切换送料滚轮抬起/落下

4. 重启控制器。

.. _input_params_quick_reference:

快速参考
===============

下表总结了输入配置功能所使用到的参数：

==================================================== ========== ==============
参数                                                 权限       参见
==================================================== ========== ==============
热键盒按键 1 功能                                    技术员     :option:`A36`
热键盒按键 2 功能                                    技术员     :option:`A37`
热键盒按键 3 功能                                    技术员     :option:`A38`
热键盒按键 4 功能                                    技术员     :option:`A39`
热键盒按键 5 功能                                    技术员     :option:`A40`
热键盒按键 6 功能                                    技术员     :option:`A41`
热键盒按键 7 功能                                    技术员     :option:`A68`
输入 01 功能                                         技术员     :option:`A04` 
输入 02 功能                                         技术员     :option:`A05`   
输入 03 功能                                         技术员     :option:`A81`
输入 04 功能                                         技术员     :option:`A82`
输入 05 功能                                         技术员     :option:`A83`
输入 06 功能                                         技术员     :option:`A84`
输入 07 功能                                         技术员     :option:`A85`
输入 08 功能                                         技术员     :option:`A86`
输入 09 功能                                         技术员     :option:`A87`
输入 10 功能                                         技术员     :option:`A88`
==================================================== ========== ==============

参数列表
==============

.. option:: A36
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义热键盒按键 1 的功能。

.. option:: A37
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义热键盒按键 2 的功能。

.. option:: A38
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义热键盒按键 3 的功能。

.. option:: A39
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义热键盒按键 4 的功能。

.. option:: A40
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义热键盒按键 5 的功能。

.. option:: A41
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义热键盒按键 6 的功能。

.. option:: A68
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义热键盒按键 7 的功能。

.. option:: A04
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义输入 01 的功能。

.. option:: A05
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义输入 02 的功能。

.. option:: A81
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义输入 03 的功能。

.. option:: A82
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义输入 04 的功能。

.. option:: A83
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义输入 05 的功能。

.. option:: A84
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义输入 06 的功能。

.. option:: A85
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义输入 07 的功能。

.. option:: A86
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义输入 08 的功能。

.. option:: A87
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义输入 09 的功能。

.. option:: A88
   
   -Max  199
   -Min  0
   -Unit  --
   -Description  定义输入 10 的功能。
